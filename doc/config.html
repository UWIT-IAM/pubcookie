<html>

<head>
<title>Pubcookie configuration file</title>
<link rel="stylesheet" href="pubcookie.css" type="text/css">
</head>

<body>

<h1>Pubcookie config file variables</h1>

<p>
The following should be an authoratative list of run-time configurable
variables for the login server, <tt>keyserver</tt>, <tt>keyclient</tt> and
mod_pubcookie. Some of these variables are shared by all of the code
(they're used in libpubcookie) while many of them pertain
just to the login server.
</p>

<p>See <a href="config.sample">config.sample</a> for an example file
containing the minimum options.</p>

<table border width="95%">
<tr><th>Name</th> <th>Type</th> <th>Description</th></tr>
<tr>
 <td>debug</td>
  <td>int</td>
   <td>Non-zero value enables debug logging. The higher the
   number, the more debugging output that is generated.</td>
</tr>
<tr>
<td>logging_level</td><td>int</td><td>Increase with your level of
frustration.</td>
</tr>

<tr>
<td>login_host</td><td>string</td><td>The hostname of login server</td>
</tr>
<tr>
<td>login_uri</td><td>string</td><td>The complete URI of the login cgi</td>
</tr>
<tr>
<td>logout_prog</td><td>string</td><td>The name under which the logout program was invoked, includes the path.  
</td>
</tr>
<tr>
<td>login_servers</td><td>   list</td><td>
    List of all of the login servers for our domain;
                        keyserver uses this to distribute keys to the other
                        login servers</td>
</tr>

<tr>
<td>ssl_ca_file</td><td> string</td><td> Path and filename of the
                        Cerificate Authority which signed our SSL
                        key</td> </tr>

<tr>
<td>ssl_ca_path</td><td> string</td><td> Path of directory containing
                        CA certificates named by their hashes for all
                        CAs that we should trust</td> </tr>

<tr>
<td>ssl_cert_file</td><td> string</td><td> Path and filename of our
SSL certificate</td> </tr>

<tr>
<td>ssl_key_file</td><td> string</td><td> Path and filename of our SSL
key</td> </tr> 

<tr> <td>granting_key_file</td><td>string</td><td>Path and filename of
the secret portion of the granting keypair (only found on login
servers)</td> </tr>

<tr>
<td>granting_cert_file</td><td> string</td><td> Path and filename of
the public portion of the granting keypair (found on all servers)</td>
</tr>

<tr>
<td>default_l_expire</td><td>    int </td>
</tr>
<tr>
<td>min_countdown</td><td>       int </td>
</tr>
<tr>
<td>kiosk_keys</td><td>      list</td>
</tr>
<tr>
<td>kiosk_values</td><td>    list</td>
</tr>

<tr>
<td>enterprise_domain</td><td> string</td><td> The DNS domain under
                            which all hosts will live.  must be at
                            least a second level domain
                            (e.g. <tt>example.edu</tt>); used to scope
                            cookies for communication between the
                            login server and app servers</td> </tr>

<tr>
<td>keymgt_uri</td><td> string</td><td> the location of the
"keyserver" CGI.</td> </tr>

<tr>
<td>keydir</td><td> string</td><td> location of DES keys used for
                        encrypting cookies sent to the app server</td>
                        </tr>

<tr>
<td>umask</td><td> string</td><td> umask used when creating files</td>
</tr>

<tr>
 <td>general_facility</td>
 <td>string</td>
 <td>The log facility to log general log messages</td>
</tr>

<tr>
 <td>audit_facility</td>
 <td>string</td>
 <td>The log facility to log audit log messages</td>
</tr>

<tr>
<th colspan="3">login cgi specific options</th>
</tr>

<tr>
<td>basic_verifier</td><td> string</td><td> The verifier to use for
the "basic" flavor</td> </tr>

<tr>
<td>append_realm</td><td> switch</td><td> If true, the authentication
                        realm is appended to the user name after
                        authentication but before issuing cookies (eg,
                        the cookie will contain user@REALM)</td> </tr>

<tr>
<td>default_realm</td><td>   string</td><td>  optional default
                        authentication realm to pass to the 
                        verifier when none is submitted via the form</td>
</tr>

<tr>
<td>mirrorfile</td><td> string</td><td> full path to a file to keep a
                        mirrored copy of all output sent to the client
                        by the most recent call to the login cgi</td>
                        </tr>

<tr>
<th colspan="3"><tt>kerberos_v5</tt> verifier options</th>
</tr>

<tr>
<td>kerberos5_keytab</td><td> string</td><td> full path to the K5
keytab file</td> </tr>

<tr>
<th colspan="3"><tt>ldap</tt> verifier options</th>
</tr>

<tr>
    <td>ldap_uri</td><td>        list</td>
    <td>    The LDAP URI in this format:
        <pre>            
            ldaps://host/o=searchbase???(uid=%s)?x-BindDN=Bind%20DN,x-Password=Password
            ldap://host/o=searchbase???(uid=%s)?x-BindDN=Bind%20DN,x-Password=Password
        </pre>
        <ul>
            <li>(uid=%s) is the search filter for finding an account by netid.  The
            %s will be replaced with the netid.  The host string can optionally
            contain a port number.  The filter can only contain one %s at this time.
            </li>

            <li>x-BindDN and x-Password are the Bind DN and Password, URL
            encoded.
            <b>(Commas must be encoded as %2c and spaces as %20.)</b>
            The x-BindDN and x-Password may be omitted entirely if the
            connection is anonymous.
            </li>
        </ul>
    </td>
</tr>

<tr>
<th colspan="3">Unsupported/experimental options</th>
</tr>

<tr>
<td>save_credentials </td> <td>switch</td> <td>Controls whether
                flavor_basic saves a copy of the user's master
                credentials for later use by flavor_getcred</td> </tr>

<tr>
<td>getcred_authz_file</td> <td>string</td><td> flavor_getcred uses
                this file to determine who is authorized to request
                what credentials</td> </tr>

</table>

</body>

</html>
