# -*- make -*-
#
# Makefile, overall Makefile for CVS sources.
#
# @configure_input@
# 
# Copyright (c) 2002 Jonathan J. Miner <miner@doit.wisc.edu>
#
# $Id: Makefile.in,v 2.6 2002-07-19 19:34:35 jjminer Exp $

@SET_MAKE@


MAKE_LOGIN=@MAKE_LOGIN@$(MAKE)
MAKE_APACHE=@MAKE_APACHE@$(MAKE)

include Makefile.settings

CONFIGURE_FILES=config.status config.log config.h

GEN_MAKEFILES=Makefile Makefile.login Makefile.settings Makefile.apxs

.PHONY: all index.cgi mod_pubcookie.so clean install dist

all: index.cgi mod_pubcookie.so

index.cgi:
	$(MAKE_LOGIN) -f Makefile.login

mod_pubcookie.so:
	$(MAKE_APACHE) -f Makefile.apxs

clean: libclean
	$(MAKE_LOGIN) -f Makefile.login clean
	$(MAKE_APACHE) -f Makefile.apxs clean

libclean:
	$(MAKE) -f Makefile.libpubcookie libclean

distclean:
	$(MAKE) -f Makefile.login distclean
	$(MAKE) -f Makefile.apxs distclean
	$(FORCE_RM) $(GEN_MAKEFILES)
	$(FORCE_RM) $(CONFIGURE_FILES)

install: libclean
	$(MAKE_LOGIN) -f Makefile.login install
	$(MAKE_APACHE) -f Makefile.apxs install

dist:
	$(MAKE_LOGIN) -f Makefile.login dist
	$(MAKE_APACHE) -f Makefile.apxs dist

tests:
	$(MAKE_LOGIN) -f Makefile.login tests

utils:
	$(MAKE_LOGIN) -f Makefile.login utils

test:
	$(MAKE_LOGIN) -f Makefile.login test

# vim: set noet:
